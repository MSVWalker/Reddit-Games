<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8" />
  <meta name="viewport"
    content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width, height=device-height, user-scalable=0" />
  <title>devvit</title>
</head>

<body class="app">
  <div class="game-container">
    <div class="hud">
      <div class="score-box">
        <div class="label">SCORE</div>
        <div class="value" id="score">0</div>
      </div>
      <div class="day-box">
        <div class="label">DAY</div>
        <div class="value" id="day">1</div>
      </div>
      <div class="combo-box">
        <div class="label">COMBO</div>
        <div class="value" id="combo">0</div>
      </div>
      <div style="position: absolute; bottom: 5px; right: 5px; font-size: 0.6rem; color: rgba(255,255,255,0.3);">
        v0.0.121</div>
    </div>

    <!-- Walking Chef -->
    <div class="chef-container">
      <div class="chef chef-1" id="chef-1">
        <div class="pixel-chef">
          <div class="chef-hat-pixel"></div>
          <div class="chef-head"></div>
          <div class="chef-body"></div>
          <div class="chef-legs"></div>
        </div>
      </div>
    </div>

    <div class="kitchen-counter">
      <div class="cutting-board" id="cutting-board-container">
        <div class="lane" id="lane-0">
        </div>
        <div class="lane" id="lane-1">
        </div>
        <div class="lane" id="lane-2">
        </div>
        <div class="cut-line"></div>

        <!-- Stack inside 3D scene for obstruction -->
        <div class="stack-container-3d" id="chive-stack"></div>
      </div>

      <!-- Projectile Container (Overlay on top of board) -->
      <div class="projectile-container" id="projectile-container"></div>




      <div class="airplane" id="airplane"></div>
      <div class="easter-egg-zone" id="easter-egg-zone"></div>
      <div id="particles-container"></div>
    </div>

    <div class="knife-container" id="knife">
      ðŸ”ª
    </div>




    <div class="day-transition-overlay hidden" id="day-transition-overlay">
      <h2 id="transition-day-text">DAY 2</h2>
    </div>

    <div class="controls-overlay" id="controls-overlay">
      <div class="splash-container">
        <h1 class="splash-title">Chive Cutter</h1>
        <p class="splash-subtitle">Hit the correct key when the chive lands on the cut line</p>

        <p
          style="text-align: center; font-size: 0.9rem; margin-top: 10px; color: #ddd; font-family: 'Segoe UI', sans-serif;">
          Press <span class="keycap">A</span> <span class="keycap">S</span> <span class="keycap">D</span> or tap lanes
        </p>

        <!-- Mode & Action Block (Grid) -->
        <div class="splash-grid">
          <button class="mode-toggle-btn splash-mode-btn active" data-mode="classic"
            style="width: 100% !important; margin: 0 !important; box-sizing: border-box;">Classic</button>
          <button class="mode-toggle-btn splash-mode-btn" data-mode="f1exican"
            style="width: 100% !important; margin: 0 !important; box-sizing: border-box;">F1exican</button>
          <button id="start-button" class="main-cta-btn splash-start-btn"
            style="grid-column: 1 / -1; width: 100% !important; max-width: none !important; margin: 0 !important; box-sizing: border-box;">START</button>
        </div>

        <div id="splash-streak-display" class="splash-streak" style="margin-top: 15px;">
          <span id="splash-streak-text">Loading...</span>
        </div>
      </div>

      <!-- Flavor Block -->
      <p id="practice-day-text" class="splash-flavor-text">
        Cutting a couple of chives every day until r/KitchenConfidential says they're perfect.
      </p>

      <div class="splash-footer">
        An unofficial mini-game for r/KitchenConfidential
      </div>
    </div>

    <div class="mobile-controls">
      <button class="mobile-btn" data-key="a">A</button>
      <button class="mobile-btn" data-key="s">S</button>
      <button class="mobile-btn" data-key="d">D</button>
    </div>
  </div>

  <script type="module" src="game/game.ts" defer></script>
</body>

</html>